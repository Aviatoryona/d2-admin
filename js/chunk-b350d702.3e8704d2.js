(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b350d702","chunk-24ee5a3e","chunk-2d22d086","chunk-2d2167d7"],{"13d5":function(e,t,n){"use strict";var r=n("23e7"),a=n("d58f").left,i=n("a640"),c=n("ae40"),u=i("reduce"),o=c("reduce",{1:0});r({target:"Array",proto:!0,forced:!u||!o},{reduce:function(e){return a(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"2ab7":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("d2-container",{class:{"page-compact":e.crud.pageOptions.compact}},[n("template",{slot:"header"},[e._v("综合示例 "),n("d2-link-btn",{staticStyle:{float:"right"},attrs:{title:"更多示例",link:"http://qiniu.veryreader.com/D2CrudPlusExample/"}})],1),n("d2-crud-x",e._g(e._b({ref:"d2Crud",on:{customHandleBtn:e.customHandleBtnHandle},scopedSlots:e._u([{key:"expandSlot",fn:function(t){return[e._v(" 这里显示行展开数据:"+e._s(t.row.data)+" ")]}}])},"d2-crud-x",e._crudProps,!1),e._crudListeners),[n("div",{attrs:{slot:"header"},slot:"header"},[n("crud-search",{ref:"search",attrs:{options:e.crud.searchOptions},on:{submit:e.handleSearch}}),n("el-button-group",[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addRow}},[n("i",{staticClass:"el-icon-plus"}),e._v(" 新增")])],1),n("crud-toolbar",{attrs:{search:e.crud.searchOptions.show,compact:e.crud.pageOptions.compact,columns:e.crud.columns},on:{"update:search":function(t){return e.$set(e.crud.searchOptions,"show",t)},"update:compact":function(t){return e.$set(e.crud.pageOptions,"compact",t)},refresh:function(t){return e.doRefresh()},"columns-filter-changed":e.handleColumnsFilterChanged}})],1),n("span",{staticClass:"prefix",attrs:{slot:"PaginationPrefixSlot"},slot:"PaginationPrefixSlot"},[n("el-button",{staticClass:"square",attrs:{size:"mini",title:"批量删除",icon:"el-icon-delete",disabled:!e.multipleSelection||0==e.multipleSelection.length},on:{click:e.batchDelete}})],1)])],2)},a=[],i=n("f688"),c=n("d77c"),u=n("1fbf"),o=n("c34e"),s={name:"formColumn",components:{},mixins:[u["d2CrudPlus"].crud],data:function(){return{helper:o["default"],multipleSelection:void 0}},computed:{},mounted:function(){var e=this;setTimeout((function(){e.getD2CrudTable().store.scheduleLayout()}),1e3)},methods:{getCrudOptions:function(){return c["crudOptions"]},pageRequest:function(e){return Object(i["GetList"])(e)},addRequest:function(e){return Object(i["AddObj"])(e)},updateRequest:function(e){return Object(i["UpdateObj"])(e)},delRequest:function(e){var t=this;return Object(i["DelObj"])(e.id).then((function(n){var r=t.getD2Crud().$refs.elTable.store.states.treeData;if(null!=r){var a=r[e.parentId];null!=a&&(a.loaded=!1,a.expanded=!1)}return n}))},batchDelRequest:function(e){return Object(i["BatchDel"])(e)},handleCurrentChange:function(e,t){this.$message("单选"+e.data)},customHandleBtnHandle:function(e){e.index;var t=e.row;this.$message("自定义操作按钮："+t.data)},checkSecond:function(){this.getD2CrudTable().toggleRowSelection(this.getD2CrudTableData()[0]),this.getD2Crud().$refs.elTable.toggleRowSelection(this.getD2Crud().d2CrudData[1])}}},d=s,l=n("2877"),f=function(e){e.options.__source="src/views/demo/d2-crud-plus/synthesize/index.vue"},p=f,h=Object(l["a"])(d,r,a,!1,null,null,null);"function"===typeof p&&p(h);t["default"]=h.exports},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var r=n("1d80"),a=n("5899"),i="["+a+"]",c=RegExp("^"+i+i+"*"),u=RegExp(i+i+"*$"),o=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(c,"")),2&e&&(n=n.replace(u,"")),n}};e.exports={start:o(1),end:o(2),trim:o(3)}},a6231:function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").every,i=n("a640"),c=n("ae40"),u=i("every"),o=c("every");r({target:"Array",proto:!0,forced:!u||!o},{every:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},a9e3:function(e,t,n){"use strict";var r=n("83ab"),a=n("da84"),i=n("94ca"),c=n("6eeb"),u=n("5135"),o=n("c6b6"),s=n("7156"),d=n("c04e"),l=n("d039"),f=n("7c73"),p=n("241c").f,h=n("06cf").f,b=n("9bf2").f,m=n("58a8").trim,g="Number",v=a[g],y=v.prototype,w=o(f(y))==g,O=function(e){var t,n,r,a,i,c,u,o,s=d(e,!1);if("string"==typeof s&&s.length>2)if(s=m(s),t=s.charCodeAt(0),43===t||45===t){if(n=s.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(s.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+s}for(i=s.slice(2),c=i.length,u=0;u<c;u++)if(o=i.charCodeAt(u),o<48||o>a)return NaN;return parseInt(i,r)}return+s};if(i(g,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var N,C=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof C&&(w?l((function(){y.valueOf.call(n)})):o(n)!=g)?s(new v(O(t)),n,C):O(t)},x=r?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;x.length>k;k++)u(v,N=x[k])&&!u(C,N)&&b(C,N,h(v,N));C.prototype=y,y.constructor=C,c(a,g,C)}},c34e:function(e,t,n){"use strict";n.r(t),t["default"]={init:"\n  ",crud:"\n",template:"\n  "}},d58f:function(e,t,n){var r=n("1c0b"),a=n("7b0b"),i=n("44ad"),c=n("50c4"),u=function(e){return function(t,n,u,o){r(n);var s=a(t),d=i(s),l=c(s.length),f=e?l-1:0,p=e?-1:1;if(u<2)while(1){if(f in d){o=d[f],f+=p;break}if(f+=p,e?f<0:l<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:l>f;f+=p)f in d&&(o=n(o,d[f],f,s));return o}};e.exports={left:u(!1),right:u(!0)}},d77c:function(e,t,n){"use strict";n.r(t),n.d(t,"crudOptions",(function(){return a}));n("a6231"),n("4160"),n("d81d"),n("13d5"),n("a9e3"),n("159b");var r=n("22ce"),a={rowHandle:{width:370,custom:[{text:" 自定义",type:"warning",size:"small",emit:"customHandleBtn",icon:"el-icon-s-flag"}],fixed:"right"},pageOptions:{compact:!0},options:{height:"100%",highlightCurrentRow:!0,rowKey:"id",lazy:!0,load:function(e,t,n){Object(r["c"])({url:"/d2crudplus/synthesize/children",method:"get",data:{id:e.id}}).then((function(e){console.log("懒加载数据",e),n(e)}))},showSummary:!0,summaryMethod:function(e){var t=e.columns,n=e.data,r=[];return t.forEach((function(e,t){if(0!==t){if(console.log("111",e),"金额(元)"===e.label){var a=n.map((function(t){return Number(t[e.property])}));a.every((function(e){return isNaN(e)}))?r[t]="":(r[t]=a.reduce((function(e,t){var n=Number(t);return isNaN(n)?e:e+t}),0),r[t]+=" 元")}}else r[t]="总价"})),r}},indexRow:{title:"序号",align:"center"},selectionRow:{align:"center",width:100},expandRow:{title:"展开",align:"center"},columns:[{title:"数据列",key:"data",sortable:!0,width:200},{title:"ID",key:"id",width:90,form:{disabled:!0}},{title:"时间",key:"time",type:"datetime",sortable:!0,width:160},{title:"地区",key:"province",sortable:!0,search:{key:"province",disabled:!1},type:"select",form:{component:{props:{filterable:!0,multiple:!0,clearable:!0}}},dict:{data:[{value:"sz",label:"深圳"},{value:"gz",label:"广州"},{value:"wh",label:"武汉"},{value:"sh",label:"上海"}]},width:300},{title:"金额(元)",key:"amount",sortable:!0,type:"number"}]}},f688:function(e,t,n){"use strict";n.r(t),n.d(t,"GetList",(function(){return a})),n.d(t,"AddObj",(function(){return i})),n.d(t,"UpdateObj",(function(){return c})),n.d(t,"DelObj",(function(){return u})),n.d(t,"BatchDel",(function(){return o}));var r=n("22ce");function a(e){return Object(r["c"])({url:"/d2-crud-plus/synthesize/page",method:"get",data:e})}function i(e){return Object(r["c"])({url:"/d2-crud-plus/synthesize/add",method:"post",data:e})}function c(e){return Object(r["c"])({url:"/d2-crud-plus/synthesize/update",method:"post",data:e})}function u(e){return Object(r["c"])({url:"/d2-crud-plus/synthesize/delete",method:"post",data:{id:e}})}function o(e){return Object(r["c"])({url:"/d2-crud-plus/synthesize/batchDelete",method:"post",data:{ids:e}})}}}]);